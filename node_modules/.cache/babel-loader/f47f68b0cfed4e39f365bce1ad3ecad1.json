{"ast":null,"code":"import axios from \"axios\";\nimport { backend, setDefaults, userStates } from \"./Manager\";\n/**\n * this is the user manager the state is the manager of the current state that the user is in\n * \n */\n\nfunction User(props) {\n  console.log('now geting user');\n  console.log(props);\n  /*\n  props = {\n      token: token,\n      state: state,\n  }\n  */\n\n  /**\n   * this is usesd to generate a new user\n   * @param {String} email \n   * @param {String} username \n   * @param {String} password \n   * @param {String} firstName \n   * @param {String} middleName \n   * @param {String} lastName \n   * @param {String} gender \n   * @param {String} date \n   * @param {String} country \n   * @param {String} address \n   * @param {String} city \n   * @param {String} state \n   * @param {String} zip \n   * @param {String} phone \n   * @param {function} success \n   * @param {function} error \n   */\n\n  let newUser = async (email, username, password, firstName, middleName, lastName, gender, date, country, address, city, state, zip, phone, success, error) => {\n    [success, error] = setDefaults(success, error);\n\n    try {\n      const res = await axios.post(`${backend}/user/register`, {\n        email: email,\n        username: username,\n        password: password,\n        firstName: firstName,\n        middleName: middleName,\n        lastName: lastName,\n        gender: gender,\n        date: date,\n        country: country,\n        address: address,\n        city: city,\n        state: state,\n        zip: zip,\n        phone: phone\n      });\n      success(res);\n    } catch (err) {\n      error(err);\n    }\n  }; //i dont feel like this belongs here...\n\n\n  let login = async (username, password, success, error) => {\n    try {\n      const res = await axios.post(`${backend}/user/login`, {\n        username: username,\n        password: password\n      });\n      success(res);\n    } catch (err) {\n      error(err);\n    }\n  };\n\n  let addState = async (state, success, error) => {\n    try {\n      const res = await axios.post(`${backend}user//addState`, {\n        token: props.token,\n        state: state\n      });\n      success(res);\n    } catch (err) {\n      error(err);\n    }\n  };\n\n  if (props === undefined) {\n    return {\n      newUser: newUser,\n      login: login\n    };\n  } else if (typeof props.token === \"string\" && typeof props.state === \"string\") {\n    let returns = {\n      addState: addState\n    };\n    let state = userStates.get(props.state);\n    Object.entries(state(token)).forEach(_ref => {\n      let [key, value] = _ref;\n      returns[key] = value;\n    });\n    return returns;\n  } else if (typeof props.token === \"string\") {\n    return {\n      addState: addState\n    };\n  }\n}\n\n_c = User;\nexport default User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["/home/lewibs/Documents/github/ottery/web-app/src/managers/User.js"],"names":["axios","backend","setDefaults","userStates","User","props","console","log","newUser","email","username","password","firstName","middleName","lastName","gender","date","country","address","city","state","zip","phone","success","error","res","post","err","login","addState","token","undefined","returns","get","Object","entries","forEach","key","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nimport {\n    backend,\n    setDefaults,\n    userStates,\n} from \"./Manager\";\n\n/**\n * this is the user manager the state is the manager of the current state that the user is in\n * \n */\nfunction User(props) {\n    console.log('now geting user');\n    console.log(props);\n\n    /*\n    props = {\n        token: token,\n        state: state,\n    }\n    */\n\n    /**\n     * this is usesd to generate a new user\n     * @param {String} email \n     * @param {String} username \n     * @param {String} password \n     * @param {String} firstName \n     * @param {String} middleName \n     * @param {String} lastName \n     * @param {String} gender \n     * @param {String} date \n     * @param {String} country \n     * @param {String} address \n     * @param {String} city \n     * @param {String} state \n     * @param {String} zip \n     * @param {String} phone \n     * @param {function} success \n     * @param {function} error \n     */\n    let newUser = async (email, username, password, firstName, middleName, lastName, gender, date, country, address, city, state, zip, phone, success, error) => {\n        [success, error] = setDefaults(success, error);\n        try {\n            const res = await axios.post(\n                `${backend}/user/register`,\n                {\n                    email:email,\n                    username:username,\n                    password:password,\n                    firstName:firstName,\n                    middleName:middleName,\n                    lastName:lastName,\n                    gender:gender,\n                    date:date,\n                    country:country,\n                    address:address,\n                    city:city,\n                    state:state,\n                    zip:zip,\n                    phone:phone\n                }\n            );\n            success(res)\n        } catch (err) {\n            error(err);\n        }\n    }\n\n    //i dont feel like this belongs here...\n    let login = async (username, password, success, error) => {\n        try {\n            const res = await axios.post(\n                `${backend}/user/login`,\n                {\n                    username:username,\n                    password:password\n                }\n            );\n            success(res);\n        } catch (err) {\n            error(err);\n        }\n    }\n\n    let addState = async (state, success, error) => {\n        try {\n            const res = await axios.post(\n                `${backend}user//addState`,\n                {\n                    token:props.token,\n                    state:state\n                }\n            );\n            success(res);\n        } catch (err) {\n            error(err);\n        }\n    }\n\n    if (props === undefined) {\n        return {\n            newUser:newUser,\n            login:login,\n        }\n    } else if (typeof props.token === \"string\" && typeof props.state === \"string\")  {\n        let returns = {\n            addState:addState,\n        }\n        \n        let state = userStates.get(props.state);\n        Object.entries(state(token)).forEach(([key, value]) => {\n            returns[key] = value;\n        });\n\n        return returns;\n    } else if (typeof props.token === \"string\") {\n        return {\n            addState:addState,\n        }\n    }\n}\n\nexport default User;"]},"metadata":{},"sourceType":"module"}